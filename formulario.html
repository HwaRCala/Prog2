<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
	<title>Validar formulario con javascript</title>
	<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
    <meta charset="utf-8">
</head>
<script type="text/javascript">
function validarEntero(valor){
      //intento convertir a entero.
     //si era un entero no le afecta, si no lo era lo intenta convertir
     valor = parseInt(valor)

      //Compruebo si es un numero
      if (isNaN(valor)) {
            //entonces (no es numero) devuelvo el valor cadena vacia
            return ""
      }else{
            //Si es un numero devuelvo el valor
            return valor
      }
}
function validateEmail(){
                
                // recupero el valor del email.
                var emailField = document.getElementById('useremail');
                
                // Defino la expresion regular .
                var validEmail =  /^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/;

                // evaluo contra la exp.reg.
                if( validEmail.test(emailField.value) ){
                    alert('Email es valido!!');
                    return true;
                }else{
                    alert('Email es invalido, vuelva a intentar');
                    return false;
                }
            }


function validarform(){
    //valido el nombre
    if (document.fvalida.nombre.value.length==0){
       alert("Tiene que escribir su nombre")
       document.fvalida.nombre.focus()
       return 0;
    }
    

    //valido la edad. tiene que ser entero mayor que 18
    edad = document.fvalida.edad.value
    edad = validarEntero(edad)
    document.fvalida.edad.value=edad
    if (edad==""){
       alert("Tiene que introducir un número entero en su edad.")
       document.fvalida.edad.focus()
       return 0;
    }else{
       if (edad<18){
          alert("Debe ser mayor de 18 años.")
          document.fvalida.edad.focus()
          return 0;
       }
    }

    //valido email.
    mail = document.fvalida.useremail.value
    mail = validateEmail(mail)
    document.fvalida.useremail.value
    if (mail==""){
       alert("Tiene que introducir un Email.")
       document.fvalida.useremail.focus()
       return 0;

    //valido el localidad
    if (document.fvalida.localidad.selectedIndex==0){
       alert("Debe seleccionar una localidad")
       document.fvalida.localidad.focus()
       return 0;
    }

    //el formulario se envia
    alert("Muchas gracias por enviar el formulario");
    document.fvalida.submit();
}
}
</script>
<body>

<form name="fvalida" method="POST" action="mostrar.php">
	<table>
		<tr>
		    <td>Nombre: </td>
		    <td><input type="text" name="nombre" size="30" maxlength="100"></td>
		</tr>
		<tr>
		    <td>Edad: </td>
		    <td><input type="text" name="edad" size="3" maxlength="2"></td>
		</tr>
        <tr>
		    <td>Email: </td>
		    <td><input type="email" id="useremail" name="useremail" size="40" maxlength="100"></td>
        </tr>
        <tr>
		    <td>Dirección: </td>
		    <td><input type="text" name="direccion" size="40" maxlength="100"></td>
		</tr>
		<tr>
		    <td>Localidad:</td>
		    <td>
		    <select name=localidad>
		    <option value="Seleccionar">Seleccionar
		    <option value="C.A.B.A.">C.A.B.A.
		    <option value="Gran Buenos Aires">Gran Buenos Aires
		    <option value="Interior Buenos Aires">Interior Buenos Aires
		    </select>
		    </td>
		</tr>
		<tr>
		    <td colspan="2" align="center"><input type="button" value="Enviar" onclick="validarform()"></td>
		</tr>
	</table>
</form>
</body>
</html>